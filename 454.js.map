{"version":3,"sources":["webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/index.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/irclineparser.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/ircmessage.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/linebreak.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/messagetags.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/networkinfo.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/transports/default.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/transports/websocket.js","webpack://pesterchum/./node_modules/irc-framework/dist/browser/src/user.js","webpack://pesterchum/./node_modules/isomorphic-textencoder/browser.js"],"names":["module","exports","Client","setDefaultTransport","require","MessageTags","IrcMessage","helpers","input_","input","replace","newline_regex","cPos","inParams","nextToken","length","end","indexOf","token","substring","ret","tags","decode","substr","prefix","mask","parseMask","nick","ident","user","hostname","host","command","toUpperCase","params","push","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","this","create","_len","arguments","args","Array","_key","protoProps","value","_this","parts","encode","forEach","param","idx","join","assign","source","prototype","_marked","regeneratorRuntime","mark","lineBreak","_marked2","wordBreak","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","isArray","_unsupportedIterableToArray","F","s","n","done","e","_e2","f","err","normalCompletion","didErr","step","next","_e3","minLen","_arrayLikeToArray","toString","call","slice","constructor","name","from","test","arr","len","arr2","_typeof","obj","_createClass","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","undefined","fn","Function","has","get","set","Wrapper","_construct","Parent","a","bind","sham","Proxy","Date","p","setPrototypeOf","__proto__","getPrototypeOf","GraphemeSplitter","encodeUTF8","graphemeSplitter","SubstringTooLargeForLineError","_Error","_super","opts","Error","captureStackTrace","WordTooLargeForLineError","_SubstringTooLargeFor","_super2","concat","size","bytes","GraphemeTooLargeForLineError","_SubstringTooLargeFor2","_super3","CodepointTooLargeForLineError","_SubstringTooLargeFor3","_super4","str","byteLength","line","previousWhitespace","_iterator","_step","_step$value","word","trailingWhitespace","wordPreviousWhitespace","_iterator2","_step2","grapheme","_iterator3","_step3","codepoint","wrap","_context","prev","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","_nonIterableRest","abrupt","allowBreakingWords","iterateGraphemes","allowBreakingGraphemes","t0","finish","t1","t2","stop","_iterator4","_step4","_context2","Helpers","decodeValue","encodeValue","tag_str","split","tag","splitOnce","toLowerCase","separator","keys","map","val","tokens_map","token_lookup","m","vals_map","val_lookup","_","find","server","ircd","options","PREFIX","symbol","mode","time_offsets","time_offset","timeToLocal","serverTimeMs","getServerTimeOffset","timeToServer","localTimeMs","sort","b","Math","floor","addServerTimeOffset","time","newOffset","now","currentOffset","supports","support_name","isChannelName","channel_name","extractTargetGroup","statusMsg","target_group","cap","negotiating","requested","enabled","isEnabled","cap_name","EventEmitter","_EventEmitter","Connection","socket","connected","last_socket_error","encoding","incoming_buffer","cb","debugOut","send","setTimeout","out","emit","that","ws_addr","disposeSocket","requested_disconnect","tls","ssl","port","path","WebSocket","onopen","onSocketFullyConnected","onclose","onSocketClose","onmessage","event","onSocketMessage","data","onerror","message","JSON","stringify","lines","pop","close","User","username","gecos","away","modes","Set","modestr","adding","string","TextEncoder","buffer","TextDecoder"],"mappings":"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","file":"454.js","sourcesContent":["'use strict';\n/**\n * The default irc-framework interface for nodejs\n * Usage: var IrcFramework = require('irc-framework');\n */\n\nmodule.exports.Client = require('./client');\nmodule.exports.Client.setDefaultTransport(require('./transports/default'));\nmodule.exports.ircLineParser = require('./irclineparser');\nmodule.exports.Message = require('./ircmessage');\nmodule.exports.MessageTags = require('./messagetags');\nmodule.exports.Helpers = require('./helpers');\nmodule.exports.Channel = require('./channel');","'use strict';\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nvar MessageTags = require('./messagetags');\n\nvar IrcMessage = require('./ircmessage');\n\nvar helpers = require('./helpers');\n\nmodule.exports = parseIrcLine;\nvar newline_regex = /^[\\r\\n]+|[\\r\\n]+$/g;\n\nfunction parseIrcLine(input_) {\n  var input = input_.replace(newline_regex, '');\n  var cPos = 0;\n  var inParams = false;\n\n  var nextToken = function nextToken() {\n    // Fast forward to somewhere with actual data\n    while (input[cPos] === ' ' && cPos < input.length) {\n      cPos++;\n    }\n\n    if (cPos === input.length) {\n      // If reading the params then return null to indicate no more params available.\n      // The trailing parameter may be empty but should still be included as an empty string.\n      return inParams ? null : '';\n    }\n\n    var end = input.indexOf(' ', cPos);\n\n    if (end === -1) {\n      // No more spaces means were on the last token\n      end = input.length;\n    }\n\n    if (inParams && input[cPos] === ':' && input[cPos - 1] === ' ') {\n      // If a parameter start with : then we're in the last parameter which may incude spaces\n      cPos++;\n      end = input.length;\n    }\n\n    var token = input.substring(cPos, end);\n    cPos = end; // Fast forward our current position so we can peek what's next via input[cPos]\n\n    while (input[cPos] === ' ' && cPos < input.length) {\n      cPos++;\n    }\n\n    return token;\n  };\n\n  var ret = new IrcMessage();\n\n  if (input[cPos] === '@') {\n    ret.tags = MessageTags.decode(nextToken().substr(1));\n  }\n\n  if (input[cPos] === ':') {\n    ret.prefix = nextToken().substr(1);\n    var mask = helpers.parseMask(ret.prefix);\n    ret.nick = mask.nick;\n    ret.ident = mask.user;\n    ret.hostname = mask.host;\n  }\n\n  ret.command = nextToken().toUpperCase();\n  inParams = true;\n  var token = nextToken();\n\n  while (token !== null) {\n    ret.params.push(token);\n    token = nextToken();\n  }\n\n  return ret;\n}","\"use strict\";\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.join\");\n\nrequire(\"core-js/modules/es.object.assign\");\n\nrequire(\"core-js/modules/es.object.create\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar MessageTags = require('./messagetags');\n\nmodule.exports = /*#__PURE__*/function () {\n  function IrcMessage(command) {\n    _classCallCheck(this, IrcMessage);\n\n    this.tags = Object.create(null);\n    this.prefix = '';\n    this.nick = '';\n    this.ident = '';\n    this.hostname = '';\n    this.command = command || '';\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    this.params = args || [];\n  }\n\n  _createClass(IrcMessage, [{\n    key: \"to1459\",\n    value: function to1459() {\n      var _this = this;\n\n      var parts = [];\n      var tags = MessageTags.encode(this.tags);\n\n      if (tags) {\n        parts.push('@' + tags);\n      }\n\n      if (this.prefix) {\n        // TODO: If prefix is empty, build it from the nick!ident@hostname\n        parts.push(':' + this.prefix);\n      }\n\n      parts.push(this.command);\n\n      if (this.params.length > 0) {\n        this.params.forEach(function (param, idx) {\n          if (idx === _this.params.length - 1 && (param.indexOf(' ') > -1 || param[0] === ':')) {\n            parts.push(':' + param);\n          } else {\n            parts.push(param);\n          }\n        });\n      }\n\n      return parts.join(' ');\n    }\n  }, {\n    key: \"toJson\",\n    value: function toJson() {\n      return {\n        tags: Object.assign({}, this.tags),\n        source: this.prefix,\n        command: this.command,\n        params: this.params\n      };\n    }\n  }]);\n\n  return IrcMessage;\n}();","\"use strict\";\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.concat\");\n\nrequire(\"core-js/modules/es.array.from\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.is-array\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.array.slice\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.function.bind\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nrequire(\"core-js/modules/es.map\");\n\nrequire(\"core-js/modules/es.object.create\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of\");\n\nrequire(\"core-js/modules/es.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.reflect.construct\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nvar _marked = /*#__PURE__*/regeneratorRuntime.mark(lineBreak),\n    _marked2 = /*#__PURE__*/regeneratorRuntime.mark(wordBreak);\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar GraphemeSplitter = require('grapheme-splitter');\n\nvar _require = require('isomorphic-textencoder'),\n    encodeUTF8 = _require.encode;\n\nvar graphemeSplitter = new GraphemeSplitter();\n/* abstract */\n\nvar SubstringTooLargeForLineError = /*#__PURE__*/function (_Error) {\n  _inherits(SubstringTooLargeForLineError, _Error);\n\n  var _super = _createSuper(SubstringTooLargeForLineError);\n\n  /* substring: string */\n\n  /* opts: Options */\n  function SubstringTooLargeForLineError(substring\n  /* : string */\n  , opts\n  /* : Options */\n  ) {\n    var _this;\n\n    _classCallCheck(this, SubstringTooLargeForLineError);\n\n    _this = _super.call(this); // Maintains proper stack trace for where our error was thrown (only available on V8)\n    // @ts-ignore\n\n    if (Error.captureStackTrace) {\n      // @ts-ignore\n      Error.captureStackTrace(_assertThisInitialized(_this), _this.constructor);\n    } // Custom debugging information\n\n\n    _this.substring = substring;\n    _this.opts = opts;\n    return _this;\n  }\n\n  _createClass(SubstringTooLargeForLineError, [{\n    key: \"name\",\n    get: function get() {\n      return this.constructor.name;\n    }\n  }]);\n\n  return SubstringTooLargeForLineError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar WordTooLargeForLineError = /*#__PURE__*/function (_SubstringTooLargeFor) {\n  _inherits(WordTooLargeForLineError, _SubstringTooLargeFor);\n\n  var _super2 = _createSuper(WordTooLargeForLineError);\n\n  function WordTooLargeForLineError() {\n    _classCallCheck(this, WordTooLargeForLineError);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(WordTooLargeForLineError, [{\n    key: \"message\",\n    get: function get() {\n      return \"\".concat(size(this.substring), \" byte word can't fit in a \").concat(this.opts.bytes, \" byte block: \").concat(this.substring);\n    }\n  }]);\n\n  return WordTooLargeForLineError;\n}(SubstringTooLargeForLineError);\n\nvar GraphemeTooLargeForLineError = /*#__PURE__*/function (_SubstringTooLargeFor2) {\n  _inherits(GraphemeTooLargeForLineError, _SubstringTooLargeFor2);\n\n  var _super3 = _createSuper(GraphemeTooLargeForLineError);\n\n  function GraphemeTooLargeForLineError() {\n    _classCallCheck(this, GraphemeTooLargeForLineError);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(GraphemeTooLargeForLineError, [{\n    key: \"message\",\n    get: function get() {\n      return \"\".concat(size(this.substring), \" byte grapheme can't fit in a \").concat(this.opts.bytes, \" byte block: \").concat(this.substring);\n    }\n  }]);\n\n  return GraphemeTooLargeForLineError;\n}(SubstringTooLargeForLineError);\n\nvar CodepointTooLargeForLineError = /*#__PURE__*/function (_SubstringTooLargeFor3) {\n  _inherits(CodepointTooLargeForLineError, _SubstringTooLargeFor3);\n\n  var _super4 = _createSuper(CodepointTooLargeForLineError);\n\n  function CodepointTooLargeForLineError() {\n    _classCallCheck(this, CodepointTooLargeForLineError);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(CodepointTooLargeForLineError, [{\n    key: \"message\",\n    get: function get() {\n      return \"\".concat(size(this.substring), \" byte codepoint can't fit in a \").concat(this.opts.bytes, \" byte block: \").concat(this.substring);\n    }\n  }]);\n\n  return CodepointTooLargeForLineError;\n}(SubstringTooLargeForLineError);\n\nfunction size(str\n/* : string */\n)\n/* : number */\n{\n  var byteArray = encodeUTF8(str);\n  var bytes = byteArray.byteLength;\n  return bytes;\n}\n/* export interface Options {\n    bytes: number,\n    allowBreakingWords?: boolean,\n    allowBreakingGraphemes?: boolean,\n} */\n\n\nfunction lineBreak(str\n/* : string */\n, opts\n/* : Options */\n) {\n  var line, previousWhitespace, _iterator, _step, _step$value, word, trailingWhitespace, wordPreviousWhitespace, _iterator2, _step2, grapheme, _iterator3, _step3, codepoint;\n\n  return regeneratorRuntime.wrap(function lineBreak$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          line = '';\n          previousWhitespace = '';\n          _iterator = _createForOfIteratorHelper(wordBreak(str));\n          _context.prev = 3;\n\n          _iterator.s();\n\n        case 5:\n          if ((_step = _iterator.n()).done) {\n            _context.next = 79;\n            break;\n          }\n\n          _step$value = _slicedToArray(_step.value, 2), word = _step$value[0], trailingWhitespace = _step$value[1];\n\n          if (!(size(line) + size(previousWhitespace) + size(word) <= opts.bytes)) {\n            _context.next = 11;\n            break;\n          }\n\n          line += previousWhitespace + word;\n          previousWhitespace = trailingWhitespace;\n          return _context.abrupt(\"continue\", 77);\n\n        case 11:\n          if (!(size(word) <= opts.bytes)) {\n            _context.next = 18;\n            break;\n          }\n\n          if (!line) {\n            _context.next = 15;\n            break;\n          }\n\n          _context.next = 15;\n          return line;\n\n        case 15:\n          // previously buffered whitespace is discarded as it was replaced by a line break\n          // store new whitespace for later\n          previousWhitespace = trailingWhitespace;\n          line = word; // next line starts with word\n\n          return _context.abrupt(\"continue\", 77);\n\n        case 18:\n          if (opts.allowBreakingWords) {\n            _context.next = 20;\n            break;\n          }\n\n          throw new WordTooLargeForLineError(word, opts);\n\n        case 20:\n          // try to fit part of word into current line\n          wordPreviousWhitespace = trailingWhitespace;\n          _iterator2 = _createForOfIteratorHelper(graphemeSplitter.iterateGraphemes(word));\n          _context.prev = 22;\n\n          _iterator2.s();\n\n        case 24:\n          if ((_step2 = _iterator2.n()).done) {\n            _context.next = 68;\n            break;\n          }\n\n          grapheme = _step2.value;\n\n          if (!(size(line) + size(previousWhitespace) + size(grapheme) <= opts.bytes)) {\n            _context.next = 30;\n            break;\n          }\n\n          line += previousWhitespace + grapheme;\n          previousWhitespace = '';\n          return _context.abrupt(\"continue\", 66);\n\n        case 30:\n          if (!(size(grapheme) <= opts.bytes)) {\n            _context.next = 37;\n            break;\n          }\n\n          if (!line) {\n            _context.next = 34;\n            break;\n          }\n\n          _context.next = 34;\n          return line;\n\n        case 34:\n          previousWhitespace = '';\n          line = grapheme;\n          return _context.abrupt(\"continue\", 66);\n\n        case 37:\n          if (opts.allowBreakingGraphemes) {\n            _context.next = 39;\n            break;\n          }\n\n          throw new GraphemeTooLargeForLineError(grapheme, opts);\n\n        case 39:\n          // break grapheme into codepoints instead\n          _iterator3 = _createForOfIteratorHelper(grapheme);\n          _context.prev = 40;\n\n          _iterator3.s();\n\n        case 42:\n          if ((_step3 = _iterator3.n()).done) {\n            _context.next = 58;\n            break;\n          }\n\n          codepoint = _step3.value;\n\n          if (!(size(line) + size(previousWhitespace) + size(codepoint) <= opts.bytes)) {\n            _context.next = 48;\n            break;\n          }\n\n          line += previousWhitespace + codepoint;\n          previousWhitespace = '';\n          return _context.abrupt(\"continue\", 56);\n\n        case 48:\n          if (!(size(codepoint) <= opts.bytes)) {\n            _context.next = 55;\n            break;\n          }\n\n          if (!line) {\n            _context.next = 52;\n            break;\n          }\n\n          _context.next = 52;\n          return line;\n\n        case 52:\n          previousWhitespace = '';\n          line = codepoint;\n          return _context.abrupt(\"continue\", 56);\n\n        case 55:\n          throw new CodepointTooLargeForLineError(codepoint, opts);\n\n        case 56:\n          _context.next = 42;\n          break;\n\n        case 58:\n          _context.next = 63;\n          break;\n\n        case 60:\n          _context.prev = 60;\n          _context.t0 = _context[\"catch\"](40);\n\n          _iterator3.e(_context.t0);\n\n        case 63:\n          _context.prev = 63;\n\n          _iterator3.f();\n\n          return _context.finish(63);\n\n        case 66:\n          _context.next = 24;\n          break;\n\n        case 68:\n          _context.next = 73;\n          break;\n\n        case 70:\n          _context.prev = 70;\n          _context.t1 = _context[\"catch\"](22);\n\n          _iterator2.e(_context.t1);\n\n        case 73:\n          _context.prev = 73;\n\n          _iterator2.f();\n\n          return _context.finish(73);\n\n        case 76:\n          // end of grapheme loop\n          previousWhitespace = wordPreviousWhitespace;\n\n        case 77:\n          _context.next = 5;\n          break;\n\n        case 79:\n          _context.next = 84;\n          break;\n\n        case 81:\n          _context.prev = 81;\n          _context.t2 = _context[\"catch\"](3);\n\n          _iterator.e(_context.t2);\n\n        case 84:\n          _context.prev = 84;\n\n          _iterator.f();\n\n          return _context.finish(84);\n\n        case 87:\n          // end of [word, trailingWhitespace] loop\n          // unyielded leftovers when we're done iterating over the input string\n          if (previousWhitespace) {\n            if (size(line) + size(previousWhitespace) <= opts.bytes) {\n              line += previousWhitespace; // retain trailing whitespace on input line if possible\n            }\n          }\n\n          if (!line) {\n            _context.next = 91;\n            break;\n          }\n\n          _context.next = 91;\n          return line;\n\n        case 91:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[3, 81, 84, 87], [22, 70, 73, 76], [40, 60, 63, 66]]);\n} // yields [word, trailingWhitespace] tuples\n\n\nfunction wordBreak(str\n/* : string */\n) {\n  var word, trailingWhitespace, _iterator4, _step4, grapheme;\n\n  return regeneratorRuntime.wrap(function wordBreak$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          word = '';\n          trailingWhitespace = '';\n          _iterator4 = _createForOfIteratorHelper(graphemeSplitter.iterateGraphemes(str));\n          _context2.prev = 3;\n\n          _iterator4.s();\n\n        case 5:\n          if ((_step4 = _iterator4.n()).done) {\n            _context2.next = 19;\n            break;\n          }\n\n          grapheme = _step4.value;\n\n          if (!/^\\s+$/.test(grapheme)) {\n            _context2.next = 10;\n            break;\n          }\n\n          // collect whitespace\n          trailingWhitespace += grapheme;\n          return _context2.abrupt(\"continue\", 17);\n\n        case 10:\n          if (!trailingWhitespace) {\n            _context2.next = 16;\n            break;\n          }\n\n          _context2.next = 13;\n          return [word, trailingWhitespace];\n\n        case 13:\n          word = grapheme;\n          trailingWhitespace = '';\n          return _context2.abrupt(\"continue\", 17);\n\n        case 16:\n          // continuation of word\n          word += grapheme;\n\n        case 17:\n          _context2.next = 5;\n          break;\n\n        case 19:\n          _context2.next = 24;\n          break;\n\n        case 21:\n          _context2.prev = 21;\n          _context2.t0 = _context2[\"catch\"](3);\n\n          _iterator4.e(_context2.t0);\n\n        case 24:\n          _context2.prev = 24;\n\n          _iterator4.f();\n\n          return _context2.finish(24);\n\n        case 27:\n          if (!word) {\n            _context2.next = 30;\n            break;\n          }\n\n          _context2.next = 30;\n          return [word, trailingWhitespace];\n\n        case 30:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[3, 21, 24, 27]]);\n}\n\nmodule.exports = {\n  WordTooLargeForLineError: WordTooLargeForLineError,\n  GraphemeTooLargeForLineError: GraphemeTooLargeForLineError,\n  CodepointTooLargeForLineError: CodepointTooLargeForLineError,\n  lineBreak: lineBreak,\n  wordBreak: wordBreak\n};","'use strict';\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.join\");\n\nrequire(\"core-js/modules/es.array.map\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.create\");\n\nrequire(\"core-js/modules/es.object.keys\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.replace\");\n\nrequire(\"core-js/modules/es.string.split\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nvar Helpers = require('./helpers');\n\nmodule.exports.decodeValue = decodeValue;\nmodule.exports.encodeValue = encodeValue;\nmodule.exports.decode = decode;\nmodule.exports.encode = encode;\nvar tokens_map = {\n  '\\\\\\\\': '\\\\',\n  '\\\\:': ';',\n  '\\\\s': ' ',\n  '\\\\n': '\\n',\n  '\\\\r': '\\r',\n  '\\\\': '' // remove invalid backslashes\n\n};\nvar token_lookup = /\\\\\\\\|\\\\:|\\\\s|\\\\n|\\\\r|\\\\/gi;\n\nfunction decodeValue(value) {\n  return value.replace(token_lookup, function (m) {\n    return tokens_map[m] || '';\n  });\n}\n\nvar vals_map = {\n  '\\\\': '\\\\\\\\',\n  ';': '\\\\:',\n  ' ': '\\\\s',\n  '\\n': '\\\\n',\n  '\\r': '\\\\r'\n};\nvar val_lookup = /\\\\|;| |\\n|\\r/gi;\n\nfunction encodeValue(value) {\n  return value.replace(val_lookup, function (m) {\n    return vals_map[m] || '';\n  });\n}\n\nfunction decode(tag_str) {\n  var tags = Object.create(null);\n  tag_str.split(';').forEach(function (tag) {\n    var parts = Helpers.splitOnce(tag, '=');\n    var key = parts[0].toLowerCase();\n    var value = parts[1] || '';\n\n    if (!key) {\n      return;\n    }\n\n    value = decodeValue(value);\n    tags[key] = value;\n  });\n  return tags;\n}\n\nfunction encode(tags) {\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ';';\n  var parts = Object.keys(tags).map(function (key) {\n    var val = tags[key];\n\n    if (typeof val === 'boolean') {\n      return key;\n    }\n\n    return key + '=' + encodeValue(val.toString());\n  });\n  return parts.join(separator);\n}","'use strict';\n\nrequire(\"core-js/modules/es.array.find\");\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nrequire(\"core-js/modules/es.array.slice\");\n\nrequire(\"core-js/modules/es.array.sort\");\n\nrequire(\"core-js/modules/es.date.now\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nvar _ = {\n  find: require('lodash/find')\n};\nmodule.exports = NetworkInfo;\n\nfunction NetworkInfo() {\n  // Name of the network\n  this.name = 'Network'; // Name of the connected server\n\n  this.server = ''; // The reported IRCd type\n\n  this.ircd = ''; // Network provided options\n\n  this.options = {\n    PREFIX: [{\n      symbol: '~',\n      mode: 'q'\n    }, {\n      symbol: '&',\n      mode: 'a'\n    }, {\n      symbol: '@',\n      mode: 'o'\n    }, {\n      symbol: '%',\n      mode: 'h'\n    }, {\n      symbol: '+',\n      mode: 'v'\n    }]\n  };\n  this.time_offsets = [];\n  this.time_offset = 0;\n\n  this.timeToLocal = function timeToLocal(serverTimeMs) {\n    return serverTimeMs - this.getServerTimeOffset();\n  };\n\n  this.timeToServer = function timeToServer(localTimeMs) {\n    return localTimeMs + this.getServerTimeOffset();\n  };\n\n  this.getServerTimeOffset = function getServerTimeOffset() {\n    var sortedOffsets = this.time_offsets.slice(0).sort(function (a, b) {\n      return a - b;\n    });\n    return sortedOffsets[Math.floor(this.time_offsets.length / 2)] || 0;\n  };\n\n  this.addServerTimeOffset = function addServerTimeOffset(time) {\n    // add our new offset\n    var newOffset = time - Date.now();\n    this.time_offsets.push(newOffset); // limit out offsets array to 7 enteries\n\n    if (this.time_offsets.length > 7) {\n      this.time_offsets = this.time_offsets.slice(this.time_offsets.length - 7);\n    }\n\n    var currentOffset = this.getServerTimeOffset();\n\n    if (newOffset - currentOffset > 2000 || newOffset - currentOffset < -2000) {\n      // skew was over 2 seconds, invalidate all but last offset\n      // > 2sec skew is a little large so just use that. Possible\n      // that the time on the IRCd actually changed\n      this.time_offsets = this.time_offsets.slice(-1);\n    }\n\n    this.time_offset = this.getServerTimeOffset();\n  };\n\n  this.supports = function supports(support_name) {\n    return this.options[support_name.toUpperCase()];\n  };\n\n  this.isChannelName = function isChannelName(channel_name) {\n    if (typeof channel_name !== 'string' || channel_name === '') {\n      return false;\n    }\n\n    var chanPrefixes = this.supports('CHANTYPES') || '&#';\n    return chanPrefixes.indexOf(channel_name[0]) > -1;\n  }; // Support '@#channel' and '++channel' formats\n\n\n  this.extractTargetGroup = function extractTargetGroup(target) {\n    var statusMsg = this.supports('STATUSMSG');\n\n    if (!statusMsg) {\n      return null;\n    }\n\n    var target_group = _.find(statusMsg, function (prefix) {\n      if (prefix === target[0]) {\n        target = target.substring(1);\n        return prefix;\n      }\n    });\n\n    if (!target_group) {\n      return null;\n    }\n\n    return {\n      target: target,\n      target_group: target_group\n    };\n  }; // Network capabilities\n\n\n  this.cap = {\n    negotiating: false,\n    requested: [],\n    enabled: [],\n    isEnabled: function isEnabled(cap_name) {\n      return this.enabled.indexOf(cap_name) > -1;\n    }\n  };\n}","'use strict';\n\nmodule.exports = require('./websocket');","'use strict';\n/**\n * Websocket transport\n */\n\nrequire(\"core-js/modules/es.symbol\");\n\nrequire(\"core-js/modules/es.symbol.description\");\n\nrequire(\"core-js/modules/es.symbol.iterator\");\n\nrequire(\"core-js/modules/es.array.for-each\");\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.object.create\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of\");\n\nrequire(\"core-js/modules/es.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.reflect.construct\");\n\nrequire(\"core-js/modules/es.regexp.exec\");\n\nrequire(\"core-js/modules/es.regexp.to-string\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/es.string.split\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nrequire(\"core-js/modules/web.timers\");\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar EventEmitter = require('eventemitter3');\n\nmodule.exports = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(Connection, _EventEmitter);\n\n  var _super = _createSuper(Connection);\n\n  function Connection(options) {\n    var _this;\n\n    _classCallCheck(this, Connection);\n\n    _this = _super.call(this);\n    _this.options = options || {};\n    _this.socket = null;\n    _this.connected = false;\n    _this.last_socket_error = null;\n    _this.encoding = 'utf8';\n    _this.incoming_buffer = '';\n    return _this;\n  }\n\n  _createClass(Connection, [{\n    key: \"isConnected\",\n    value: function isConnected() {\n      return this.connected;\n    }\n  }, {\n    key: \"writeLine\",\n    value: function writeLine(line, cb) {\n      this.debugOut('writeLine() socket=' + (this.socket ? 'yes' : 'no') + ' connected=' + this.connected);\n\n      if (this.socket && this.connected) {\n        this.socket.send(line, cb);\n      } else if (cb) {\n        setTimeout(cb, 0);\n      }\n    }\n  }, {\n    key: \"debugOut\",\n    value: function debugOut(out) {\n      this.emit('debug', out);\n    }\n  }, {\n    key: \"connect\",\n    value: function connect() {\n      var that = this;\n      var options = this.options;\n      var socket = null;\n      var ws_addr = '';\n      this.debugOut('Connection.connect()');\n      this.disposeSocket();\n      this.requested_disconnect = false; // Build the websocket address. eg. ws://ws.rizon.net:8080\n\n      ws_addr += options.tls || options.ssl ? 'wss://' : 'ws://';\n      ws_addr += options.host;\n      ws_addr += options.port ? ':' + options.port : '';\n      ws_addr += options.path ? options.path : '';\n      socket = this.socket = new WebSocket(ws_addr);\n\n      socket.onopen = function () {\n        that.onSocketFullyConnected();\n      };\n\n      socket.onclose = function () {\n        that.onSocketClose();\n      };\n\n      socket.onmessage = function (event) {\n        that.onSocketMessage(event.data);\n      };\n\n      socket.onerror = function (err) {\n        that.debugOut('socketError() ' + err.message);\n        that.last_socket_error = err;\n      };\n    } // Called when the socket is connected and ready to start sending/receiving data.\n\n  }, {\n    key: \"onSocketFullyConnected\",\n    value: function onSocketFullyConnected() {\n      this.debugOut('socketFullyConnected()');\n      this.last_socket_error = null;\n      this.connected = true;\n      this.emit('open');\n    }\n  }, {\n    key: \"onSocketClose\",\n    value: function onSocketClose() {\n      this.debugOut('socketClose()');\n      this.connected = false;\n      this.emit('close', this.last_socket_error ? this.last_socket_error : false);\n    }\n  }, {\n    key: \"onSocketMessage\",\n    value: function onSocketMessage(data) {\n      this.debugOut('socketData() ' + JSON.stringify(data));\n      var that = this;\n      var lines = null;\n      this.incoming_buffer += data + '\\n';\n      lines = this.incoming_buffer.split('\\n');\n\n      if (lines[lines.length - 1] !== '') {\n        this.incoming_buffer = lines.pop();\n      } else {\n        lines.pop();\n        this.incoming_buffer = '';\n      }\n\n      lines.forEach(function (line) {\n        that.emit('line', line);\n      });\n    }\n  }, {\n    key: \"disposeSocket\",\n    value: function disposeSocket() {\n      this.debugOut('Connection.disposeSocket() connected=' + this.connected);\n\n      if (this.socket && this.connected) {\n        this.socket.close();\n      }\n\n      if (this.socket) {\n        this.socket.onopen = null;\n        this.socket.onclose = null;\n        this.socket.onmessage = null;\n        this.socket.onerror = null;\n        this.socket = null;\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this.socket && this.connected) {\n        this.socket.close();\n      }\n    }\n  }, {\n    key: \"setEncoding\",\n    value: function setEncoding(encoding) {}\n  }]);\n\n  return Connection;\n}(EventEmitter);","'use strict';\n\nrequire(\"core-js/modules/es.array.iterator\");\n\nrequire(\"core-js/modules/es.object.define-property\");\n\nrequire(\"core-js/modules/es.object.to-string\");\n\nrequire(\"core-js/modules/es.set\");\n\nrequire(\"core-js/modules/es.string.iterator\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nmodule.exports = /*#__PURE__*/function () {\n  function User(opts) {\n    _classCallCheck(this, User);\n\n    opts = opts || {};\n    this.nick = opts.nick || '';\n    this.username = opts.username || '';\n    this.gecos = opts.gecos || '';\n    this.host = opts.host || '';\n    this.away = !!opts.away;\n    this.modes = new Set(opts.modes || []);\n  }\n\n  _createClass(User, [{\n    key: \"toggleModes\",\n    value: function toggleModes(modestr) {\n      var adding = true;\n      var i;\n\n      for (i in modestr) {\n        switch (modestr[i]) {\n          case '+':\n            adding = true;\n            break;\n\n          case '-':\n            adding = false;\n            break;\n\n          default:\n            this.modes[adding ? 'add' : 'delete'](modestr[i]);\n        }\n      }\n    }\n  }]);\n\n  return User;\n}();","// Polyfill TextEncoder for MS Edge\nrequire('fast-text-encoding')\n\nmodule.exports = {\n  encode: string => new TextEncoder().encode(string),\n  decode: buffer => new TextDecoder().decode(buffer)\n};\n"],"sourceRoot":""}