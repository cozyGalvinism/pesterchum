(self.webpackChunkpesterchum=self.webpackChunkpesterchum||[]).push([[679],{3546:(e,t,n)=>{"use strict";n(7228),n(2322),n(5017),n(9268);var a={each:n(6270)},r={NICK:function(e,t){var n=e.getServerTime();t.emit("nick",{nick:e.nick,ident:e.ident,hostname:e.hostname,new_nick:e.params[0],time:n,tags:e.tags})},ACCOUNT:function(e,t){var n=e.getServerTime(),a="*"!==e.params[0]&&e.params[0];t.emit("account",{nick:e.nick,ident:e.ident,hostname:e.hostname,account:a,time:n,tags:e.tags})},CHGHOST:function(e,t){var n=e.getServerTime();t.emit("user updated",{nick:e.nick,ident:e.ident,hostname:e.hostname,new_ident:e.params[0],new_hostname:e.params[1],time:n,tags:e.tags})},SETNAME:function(e,t){var n=e.getServerTime();t.emit("user updated",{nick:e.nick,ident:e.ident,hostname:e.hostname,new_gecos:e.params[0],time:n,tags:e.tags})},AWAY:function(e,t){var n=e.getServerTime(),a=e.params[e.params.length-1]||"";""===a?t.emit("back",{self:!1,nick:e.nick,message:"",time:n,tags:e.tags}):t.emit("away",{self:!1,nick:e.nick,message:a,time:n,tags:e.tags})},RPL_NOWAWAY:function(e,t){var n=e.getServerTime();t.emit("away",{self:!0,nick:e.params[0],message:e.params[1]||"",time:n,tags:e.tags})},RPL_UNAWAY:function(e,t){var n=e.getServerTime();t.emit("back",{self:!0,nick:e.params[0],message:e.params[1]||"",time:n,tags:e.tags})},RPL_ISON:function(e,t){t.emit("users online",{nicks:(e.params[e.params.length-1]||"").split(" "),tags:e.tags})},ERR_NICKNAMEINUSE:function(e,t){t.emit("nick in use",{nick:e.params[1],reason:e.params[e.params.length-1],tags:e.tags})},ERR_ERRONEOUSNICKNAME:function(e,t){t.emit("nick invalid",{nick:e.params[1],reason:e.params[e.params.length-1],tags:e.tags})},RPL_ENDOFWHOIS:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.nick||(a.nick=e.params[1],a.error="not_found"),t.emit("whois",a),a.destroy()},RPL_AWAY:function(e,t){var n="whois."+e.params[1].toLowerCase(),a=e.params[e.params.length-1]||"is away";if(t.hasCache(n))t.cache(n).away=a;else{var r=e.getServerTime();t.emit("away",{self:!1,nick:e.params[1],message:a,time:r,tags:e.tags})}},RPL_WHOISUSER:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.nick=e.params[1],a.ident=e.params[2],a.hostname=e.params[3],a.real_name=e.params[5]},RPL_WHOISHELPOP:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).helpop=e.params[e.params.length-1]},RPL_WHOISBOT:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).bot=e.params[e.params.length-1]},RPL_WHOISSERVER:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.server=e.params[2],a.server_info=e.params[e.params.length-1]},RPL_WHOISOPERATOR:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).operator=e.params[e.params.length-1]},RPL_WHOISCHANNELS:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.channels?a.channels+=" "+e.params[e.params.length-1]:a.channels=e.params[e.params.length-1]},RPL_WHOISMODES:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).modes=e.params[e.params.length-1]},RPL_WHOISIDLE:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.idle=e.params[2],e.params[3]&&(a.logon=e.params[3])},RPL_WHOISREGNICK:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).registered_nick=e.params[e.params.length-1]},RPL_WHOISHOST:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n),r=e.params[e.params.length-1].match(/.*@([^ ]+) ([^ ]+).*$/);r&&(a.actual_ip=r[2],a.actual_hostname=r[1])},RPL_WHOISSECURE:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).secure=!0},RPL_WHOISCERTFP:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).certfp=e.params[e.params.length-1]},RPL_WHOISACCOUNT:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).account=e.params[2]},RPL_WHOISSPECIAL:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.special=a.special||[],a.special.push(e.params[e.params.length-1])},RPL_WHOISCOUNTRY:function(e,t){var n=e.params[1].toLowerCase();t.cache("whois."+n).country=e.params[e.params.length-1]},RPL_WHOISACTUALLY:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n),r=e.params[e.params.length-3]||"",s=r.substring(r.indexOf("@")+1),o=e.params[e.params.length-2];o&&s&&(a.actual_ip=o,a.actual_hostname=s)},RPL_WHOWASUSER:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.nick=e.params[1],a.ident=e.params[2],a.hostname=e.params[3],a.real_name=e.params[e.params.length-1]},RPL_ENDOFWHOWAS:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.nick||(a.nick=e.params[1],a.error="no_such_nick"),t.emit("whowas",a),a.destroy()},ERR_WASNOSUCHNICK:function(e,t){var n=e.params[1].toLowerCase(),a=t.cache("whois."+n);a.nick=e.params[1],a.error="no_such_nick"},RPL_UMODEIS:function(e,t){},RPL_HOSTCLOAKING:function(e,t){t.emit("displayed host",{nick:e.params[0],hostname:e.params[1],tags:e.tags})}};e.exports=function(e){a.each(r,(function(t,n){e.addHandler(n,t)}))}},3775:(e,t,n)=>{"use strict";n(7069),e.exports.CommandHandler=n(5892)},6146:e=>{"use strict";e.exports={"001":"RPL_WELCOME","002":"RPL_YOURHOST","003":"RPL_CREATED","004":"RPL_MYINFO","005":"RPL_ISUPPORT","006":"RPL_MAPMORE","007":"RPL_MAPEND","008":"RPL_SNOMASK","015":"RPL_MAP","017":"RPL_MAPEND",200:"RPL_TRACELINK",201:"RPL_TRACECONNECTING",202:"RPL_TRACEHANDSHAKE",203:"RPL_TRACEUNKNOWN",204:"RPL_TRACEOPERATOR",205:"RPL_TRACEUSER",206:"RPL_TRACESERVER",207:"RPL_TRACESERVICE",208:"RPL_TRACENEWTYPE",209:"RPL_TRACECLASS",210:"RPL_TRACERECONNECT",211:"RPL_STATSLINKINFO",212:"RPL_STATSCOMMANDS",213:"RPL_STATSCLINE",214:"RPL_STATSNLINE",215:"RPL_STATSILINE",216:"RPL_STATSKLINE",217:"RPL_STATSPLINE",218:"RPL_STATSYLINE",219:"RPL_ENDOFSTATS",220:"RPL_STATSBLINE",221:"RPL_UMODEIS",222:"RPL_SQLINE_NICK",223:"RPL_STATS_E",224:"RPL_STATS_D",229:"RPL_SPAMFILTER",231:"RPL_SERVICEINFO",232:"RPL_ENDOFSERVICES",233:"RPL_SERVICE",234:"RPL_SERVLIST",235:"RPL_SERVLISTEND",241:"RPL_STATSLLINE",242:"RPL_STATSUPTIME",243:"RPL_STATSOLINE",244:"RPL_STATSHLINE",245:"RPL_STATSSLINE",246:"RPL_STATSGLINE",247:"RPL_STATSXLINE",248:"RPL_STATSULINE",249:"RPL_STATSDEBUG",250:"RPL_STATSCONN",251:"RPL_LUSERCLIENT",252:"RPL_LUSEROP",253:"RPL_LUSERUNKNOWN",254:"RPL_LUSERCHANNELS",255:"RPL_LUSERME",256:"RPL_ADMINME",257:"RPL_ADMINLOC1",258:"RPL_ADMINLOC2",259:"RPL_ADMINEMAIL",265:"RPL_LOCALUSERS",266:"RPL_GLOBALUSERS",276:"RPL_WHOISCERTFP",290:"RPL_HELPHDR",291:"RPL_HELPOP",292:"RPL_HELPTLR",301:"RPL_AWAY",303:"RPL_ISON",304:"RPL_ZIPSTATS",305:"RPL_UNAWAY",306:"RPL_NOWAWAY",307:"RPL_WHOISREGNICK",310:"RPL_WHOISHELPOP",311:"RPL_WHOISUSER",312:"RPL_WHOISSERVER",313:"RPL_WHOISOPERATOR",314:"RPL_WHOWASUSER",315:"RPL_ENDOFWHO",317:"RPL_WHOISIDLE",318:"RPL_ENDOFWHOIS",319:"RPL_WHOISCHANNELS",320:"RPL_WHOISSPECIAL",321:"RPL_LISTSTART",322:"RPL_LIST",323:"RPL_LISTEND",324:"RPL_CHANNELMODEIS",328:"RPL_CHANNEL_URL",329:"RPL_CREATIONTIME",330:"RPL_WHOISACCOUNT",331:"RPL_NOTOPIC",332:"RPL_TOPIC",333:"RPL_TOPICWHOTIME",335:"RPL_WHOISBOT",338:"RPL_WHOISACTUALLY",341:"RPL_INVITING",344:"RPL_WHOISCOUNTRY",346:"RPL_INVITELIST",347:"RPL_ENDOFINVITELIST",352:"RPL_WHOREPLY",353:"RPL_NAMEREPLY",354:"RPL_WHOSPCRPL",364:"RPL_LINKS",365:"RPL_ENDOFLINKS",366:"RPL_ENDOFNAMES",367:"RPL_BANLIST",368:"RPL_ENDOFBANLIST",369:"RPL_ENDOFWHOWAS",371:"RPL_INFO",372:"RPL_MOTD",374:"RPL_ENDOFINFO",375:"RPL_MOTDSTART",376:"RPL_ENDOFMOTD",378:"RPL_WHOISHOST",379:"RPL_WHOISMODES",381:"RPL_NOWOPER",396:"RPL_HOSTCLOAKING",401:"ERR_NOSUCHNICK",402:"ERR_NOSUCHSERVER",404:"ERR_CANNOTSENDTOCHAN",405:"ERR_TOOMANYCHANNELS",406:"ERR_WASNOSUCHNICK",421:"ERR_UNKNOWNCOMMAND",422:"ERR_NOMOTD",423:"ERR_NOADMININFO",432:"ERR_ERRONEOUSNICKNAME",433:"ERR_NICKNAMEINUSE",441:"ERR_USERNOTINCHANNEL",442:"ERR_NOTONCHANNEL",443:"ERR_USERONCHANNEL",451:"ERR_NOTREGISTERED",461:"ERR_NOTENOUGHPARAMS",464:"ERR_PASSWDMISMATCH",470:"ERR_LINKCHANNEL",471:"ERR_CHANNELISFULL",472:"ERR_UNKNOWNMODE",473:"ERR_INVITEONLYCHAN",474:"ERR_BANNEDFROMCHAN",475:"ERR_BADCHANNELKEY",481:"ERR_NOPRIVILEGES",482:"ERR_CHANOPRIVSNEEDED",483:"ERR_CANTKILLSERVER",484:"ERR_ISCHANSERVICE",485:"ERR_ISREALSERVICE",491:"ERR_NOOPERHOST",670:"RPL_STARTTLS",671:"RPL_WHOISSECURE",704:"RPL_HELPSTART",705:"RPL_HELPTXT",706:"RPL_ENDOFHELP",900:"RPL_LOGGEDIN",901:"RPL_LOGGEDOUT",903:"RPL_SASLLOGGEDIN",904:"ERR_SASLNOTAUTHORISED",906:"ERR_SASLABORTED",907:"ERR_SASLALREADYAUTHED",972:"ERR_CANNOTDOCOMMAND",WALLOPS:"RPL_WALLOPS"}},7402:(e,t,n)=>{"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(2004),n(8407),n(8288),n(5680),n(5677),n(288),n(2609),n(5298),n(4334),n(4649),n(5101),n(7867),n(6394),n(3080),n(4669),n(2129),n(5090),n(4655),n(151);var c={pull:n(2695)},R=n(9229),L=n(3165);e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,a,R,_=(a=u,R=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(a);if(R){var n=i(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return o(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=_.call(this)).options=e||{},t.connected=!1,t.requested_disconnect=!1,t.reconnect_attempts=0,t.registered=!1,t.transport=null,t._timers=[],t}return t=u,(n=[{key:"debugOut",value:function(e){this.emit("debug",e)}},{key:"registeredSuccessfully",value:function(){this.registered=Date.now()}},{key:"connect",value:function(e){var t,n=this;e&&(this.options=e),e=this.options,this.auto_reconnect=e.auto_reconnect||!1,this.auto_reconnect_max_retries=e.auto_reconnect_max_retries||3,this.auto_reconnect_max_wait=e.auto_reconnect_max_wait||3e5,this.transport&&(this.clearTimers(),this.transport.removeAllListeners(),this.transport.disposeSocket()),this.transport=new e.transport(e),e.encoding&&this.setEncoding(e.encoding)||this.setEncoding("utf8"),(t=this.transport).on("open",(function(){n.debugOut("Socket fully connected"),n.reconnect_attempts=0,n.connected=!0,n.emit("socket connected")})),t.on("line",(function(e){n.addReadBuffer(e)})),t.on("close",(function(e){var t,a=n.connected,r=Date.now()-n.registered;if(t=!1!==n.registered&&r>5e3,n.debugOut("Socket closed. was_connected="+a+" safely_registered="+t+" requested_disconnect="+n.requested_disconnect),n.connected=!1,n.clearTimers(),n.emit("socket close",e),!n.requested_disconnect&&n.auto_reconnect&&(n.reconnect_attempts&&n.reconnect_attempts<n.auto_reconnect_max_retries||a&&t)){var s=n.calculateExponentialBackoff();n.reconnect_attempts++,n.emit("reconnecting",{attempt:n.reconnect_attempts,max_retries:n.auto_reconnect_max_retries,wait:s}),n.debugOut("Scheduling reconnect. Attempt: "+n.reconnect_attempts+"/"+n.auto_reconnect_max_retries+" Wait: "+s+"ms"),n.setTimeout((function(){return n.connect()}),s)}else n.transport.removeAllListeners(),n.emit("close",!!e),n.reconnect_attempts=0})),t.on("debug",(function(e){n.debugOut(e)})),t.on("extra",(function(){n.emit.apply(n,arguments)})),this.registered=!1,this.requested_disconnect=!1,this.emit("connecting"),this.transport.connect()}},{key:"calculateExponentialBackoff",value:function(){var e=1e3+Math.floor(5e3*Math.random()),t=Math.min(this.reconnect_attempts,30),n=1e3*Math.pow(2,t);return Math.min(n,this.auto_reconnect_max_wait)+e}},{key:"addReadBuffer",value:function(e){var t=L(e);this.emit("raw",{line:e,from_server:!0}),this.emit("message",t,e)}},{key:"write",value:function(e,t){return!this.connected||this.requested_disconnect?(this.debugOut("write() called when not connected"),t&&setTimeout(t,0),!1):(this.emit("raw",{line:e,from_server:!1}),this.transport.writeLine(e,t))}},{key:"setTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=this,t=null,n=Array.prototype.slice.call(arguments,0),a=n[0];return n[0]=function(){c.pull(e._timers,t),a.apply(null,n)},t=setTimeout.apply(null,n),this._timers.push(t),t}))},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){clearTimeout(e),c.pull(this._timers,e)}))},{key:"clearTimers",value:function(){this._timers.forEach((function(e){clearTimeout(e)})),this._timers=[]}},{key:"end",value:function(e,t){var n=this;this.debugOut("Connection.end() connected="+this.connected+" with data="+!!e+" had_error="+!!t),this.connected&&e?this.write(e,(function(){n.end(null,t)})):(t||(this.requested_disconnect=!0,this.clearTimers()),this.transport&&this.transport.close(!!t))}},{key:"setEncoding",value:function(e){if(this.debugOut("Connection.setEncoding() encoding="+e),this.transport)return this.transport.setEncoding(e)}}])&&r(t.prototype,n),u}(R)},4002:(e,t,n)=>{"use strict";n(7228),n(288);var a={parseMask:function(e){var t="",n="",a="",r=e.indexOf("!"),s=e.indexOf("@");return-1===r&&-1===s?e.indexOf(".")>-1?a=e:t=e:-1===r&&-1!==s?(t=e.substring(0,s),a=e.substring(s+1)):-1!==r&&-1===s?(t=e.substring(0,r),n=e.substring(r+1)):(t=e.substring(0,r),n=e.substring(r+1,s),a=e.substring(s+1)),{nick:t,user:n,host:a}},splitOnce:function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("input and separator must be strings");var n;return""===t?(n=e.indexOf(t,1))===e.length&&(n=-1):n=e.indexOf(t),n<0?[e]:[e.slice(0,n),e.slice(n+t.length)]}};e.exports=a}}]);
//# sourceMappingURL=679.js.map